// Do not edit this file; automatically generated by build.py.
'use strict';

Blockly.cake=new Blockly.Generator("cake");Blockly.cake.C_VARIABLE_TYPES=[["float","float"],["int","int"],["unsigned int","unsigned int"],["short","short"],["unsigned short","unsigned short"],["bool","bool"]];Blockly.cake.C_GLOBAL_VARS=[];Blockly.cake.Pluto_On_Start_AUTO_CODE=[];Blockly.cake.Pluto_On_Stop_AUTO_CODE=[];Blockly.cake.Pluto_forever_AUTO_CODE=[];Blockly.cake.Pluto_init_AUTO_CODE=[];Blockly.cake.addReservedWords(",alignas,alignof,and,and_eq,asm,auto,bitand,bitor,bool,break,case,catch,char,char8_t,char16_t,char32_t,class,compl,concept,const,consteval,constexpr,const_cast,continue,co_await,co_return,co_yield,decltype,default,delete,do,double,dynamic_cast,else,enum,explicit,export,extern,false,float,for,friend,goto,if,inline,int,long ,mutable,namespace,new,noexcept,not,not_eq,nullptr,operator,or,or_eq,private,protected,public,register,reinterpret_cast,requires,return,short,signed,sizeof,static,static_assert,static_cast,struct,switch,template,this,thread_local,throw,true,try,typedef,typeid,typename,union,unsigned,using,virtual,void,volatile,wchar_t,while,xor,xor_eq,posix,game,api,PI,PI2,PI3,PI4,DEG2RAD,RAD2DEG,ZRMS,ZR2D,ZR3D,ALLIANCE,i,T1");
Blockly.cake.ORDER_ATOMIC=0;Blockly.cake.ORDER_MEMBER=2;Blockly.cake.ORDER_FUNCTION_CALL=2;Blockly.cake.ORDER_INCREMENT=3;Blockly.cake.ORDER_DECREMENT=3;Blockly.cake.ORDER_LOGICAL_NOT=3;Blockly.cake.ORDER_BITWISE_NOT=3;Blockly.cake.ORDER_UNARY_PLUS=3;Blockly.cake.ORDER_UNARY_NEGATION=3;Blockly.cake.ORDER_MULTIPLICATION=5;Blockly.cake.ORDER_DIVISION=5;Blockly.cake.ORDER_MODULUS=5;Blockly.cake.ORDER_ADDITION=6;Blockly.cake.ORDER_SUBTRACTION=6;Blockly.cake.ORDER_BITWISE_SHIFT=7;
Blockly.cake.ORDER_RELATIONAL=8;Blockly.cake.ORDER_EQUALITY=9;Blockly.cake.ORDER_BITWISE_AND=10;Blockly.cake.ORDER_BITWISE_XOR=11;Blockly.cake.ORDER_BITWISE_OR=12;Blockly.cake.ORDER_LOGICAL_AND=13;Blockly.cake.ORDER_LOGICAL_OR=14;Blockly.cake.ORDER_CONDITIONAL=15;Blockly.cake.ORDER_ASSIGNMENT=15;Blockly.cake.ORDER_COMMA=17;Blockly.cake.ORDER_NONE=99;Blockly.cake.INFINITE_LOOP_TRAP=null;
Blockly.cake.init=function(a){Blockly.cake.definitions_=Object.create(null);Blockly.cake.times_=Object.create(null);Blockly.cake.functionNames_=Object.create(null);Blockly.cake.variableDB_?Blockly.cake.variableDB_.reset():Blockly.cake.variableDB_=new Blockly.Names(Blockly.cake.RESERVED_WORDS_);Blockly.cake.variableDB_.setVariableMap(a.getVariableMap());for(var b=[],c=Blockly.Variables.allDeveloperVariables(a),d=0;d<c.length;d++)b.push("int32_t"+Blockly.cake.variableDB_.getName(c[d],Blockly.Names.DEVELOPER_VARIABLE_TYPE)+
";\n");a=Blockly.Variables.allUsedVarModels(a);for(c=0;c<a.length;c++)""==a[c].type&&(a[c].type="int32_t"),b.push(a[c].type+" "+Blockly.cake.variableDB_.getName(a[c].getId(),Blockly.Variables.NAME_TYPE));b.length&&(Blockly.cake.definitions_.variables=b.join(";\n")+";\n")};
Blockly.cake.finish=function(a){a&&(a=this.prefixLines(a,Blockly.cake.INDENT));a="\n"+a;var b=[],c=[],d;for(d in Blockly.cake.definitions_){var e=Blockly.cake.definitions_[d];d.match("include")?b.push(e):c.push(e)}e="";for(d in Blockly.cake.Pluto_On_Start_AUTO_CODE)e+=Blockly.cake.INDENT+Blockly.cake.INDENT+Blockly.cake.Pluto_On_Start_AUTO_CODE[d]+";\n";var f=Blockly.cake.INDENT+"void onLoopStartAutoInsertion() {\n"+e+Blockly.cake.INDENT+"}\n\n";e="";for(d in Blockly.cake.Pluto_On_Stop_AUTO_CODE)e+=
Blockly.cake.INDENT+Blockly.cake.INDENT+Blockly.cake.Pluto_On_Stop_AUTO_CODE[d]+";\n";f+=Blockly.cake.INDENT+"void onLoopStopAutoInsertion() {\n"+e+Blockly.cake.INDENT+"}\n\n";e="";for(d in Blockly.cake.Pluto_init_AUTO_CODE)e+=Blockly.cake.INDENT+Blockly.cake.INDENT+Blockly.cake.Pluto_init_AUTO_CODE[d]+";\n";f+=Blockly.cake.INDENT+"void plutoInit() {\n"+e+Blockly.cake.INDENT+"}\n\n";delete Blockly.cake.definitions_;delete Blockly.cake.functionNames_;Blockly.cake.variableDB_.reset();return(b.join("\n")+
"\n\n\n\n"+c.join("\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n")+"\n\n"+f+a+"".replace(/\n\n+/g,"\n\n")};Blockly.cake.finishFull=function(a){var b=[],c;for(c in Blockly.cake.definitions_)b.push(Blockly.cake.definitions_[c]);a=b.join("\n\n")+"\n\nvoid setPos(float x, float y, float z) {\n\tfloat pos[3];\n\tpos[0] = x; pos[1] = y; pos[2] = z;\n\tapi.setPositionTarget(pos);\n}\n\n"+a;-1===a.indexOf("//Begin page init\nvoid init() {\n")&&(a="void init() {}\n"+a);return a};
Blockly.cake.scrubNakedValue=function(a){return a+";\n"};Blockly.cake.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\?/g,"\\?");return a=a.replace(/\\\\n/g,"\\n")};
Blockly.cake.scrub_=function(a,b,c){if(null===b)return"";var d="";if(!a.outputConnection||!a.outputConnection.targetConnection){var e=a.getCommentText();e&&(d+=Blockly.cake.prefixLines(e,"// ")+"\n");for(var f=0;f<a.inputList.length;f++)a.inputList[f].type==Blockly.INPUT_VALUE&&(e=a.inputList[f].connection.targetBlock())&&(e=Blockly.cake.allNestedComments(e))&&(d+=Blockly.cake.prefixLines(e,"// "))}a=a.nextConnection&&a.nextConnection.targetBlock();c=c?"":Blockly.cake.blockToCode(a);return d+b+c};
Blockly.cake.getAdjusted=function(a,b,c,d,e){c=c||0;e=e||Blockly.cake.ORDER_NONE;a.workspace.options.oneBasedIndex&&c--;var f=a.workspace.options.oneBasedIndex?"1":"0";a=0<c?Blockly.cake.valueToCode(a,b,Blockly.cake.ORDER_ADDITION)||f:0>c?Blockly.cake.valueToCode(a,b,Blockly.cake.ORDER_SUBTRACTION)||f:d?Blockly.cake.valueToCode(a,b,Blockly.cake.ORDER_UNARY_NEGATION)||f:Blockly.cake.valueToCode(a,b,e)||f;if(Blockly.isNumber(a))a=parseInt(a,10)+c,d&&(a=-a);else{if(0<c){a=a+" + "+c;var g=Blockly.cake.ORDER_ADDITION}else 0>
c&&(a=a+" - "+-c,g=Blockly.cake.ORDER_SUBTRACTION);d&&(a=c?"-("+a+")":"-"+a,g=Blockly.cake.ORDER_UNARY_NEGATION);g=Math.floor(g);e=Math.floor(e);g&&e>=g&&(a="("+a+")")}return a};/*

 Visual Blocks Language

 Copyright 2012 Google Inc.
 https://blockly.googlecode.com/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.cake.lists={};Blockly.cake.lists_create_empty=function(a){return["[]",Blockly.cake.ORDER_ATOMIC]};Blockly.cake.lists_create_with=function(a){for(var b=Array(a.itemCount_),c=0;c<a.itemCount_;c++)b[c]=Blockly.cake.valueToCode(a,"ADD"+c,Blockly.cake.ORDER_COMMA)||"null";b="["+b.join(", ")+"]";return[b,Blockly.cake.ORDER_ATOMIC]};
Blockly.cake.lists_repeat=function(a){var b=Blockly.cake.provideFunction_("lists_repeat",["function "+Blockly.cake.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=Blockly.cake.valueToCode(a,"ITEM",Blockly.cake.ORDER_COMMA)||"null";a=Blockly.cake.valueToCode(a,"NUM",Blockly.cake.ORDER_COMMA)||"0";return[b+"("+c+", "+a+")",Blockly.cake.ORDER_FUNCTION_CALL]};
Blockly.cake.lists_length=function(a){return[(Blockly.cake.valueToCode(a,"VALUE",Blockly.cake.ORDER_FUNCTION_CALL)||"[]")+".length",Blockly.cake.ORDER_MEMBER]};Blockly.cake.lists_isEmpty=function(a){return["!"+(Blockly.cake.valueToCode(a,"VALUE",Blockly.cake.ORDER_MEMBER)||"[]")+".length",Blockly.cake.ORDER_LOGICAL_NOT]};
Blockly.cake.lists_indexOf=function(a){var b="FIRST"==a.getFieldValue("END")?"indexOf":"lastIndexOf",c=Blockly.cake.valueToCode(a,"FIND",Blockly.cake.ORDER_NONE)||"''";return[(Blockly.cake.valueToCode(a,"VALUE",Blockly.cake.ORDER_MEMBER)||"[]")+"."+b+"("+c+") + 1",Blockly.cake.ORDER_MEMBER]};
Blockly.cake.lists_getIndex=function(a){var b=a.getFieldValue("MODE")||"GET",c=a.getFieldValue("WHERE")||"FROM_START",d=Blockly.cake.valueToCode(a,"AT",Blockly.cake.ORDER_UNARY_NEGATION)||"1";a=Blockly.cake.valueToCode(a,"VALUE",Blockly.cake.ORDER_MEMBER)||"[]";if("FIRST"==c){if("GET"==b)return[a+"[0]",Blockly.cake.ORDER_MEMBER];if("GET_REMOVE"==b)return[a+".shift()",Blockly.cake.ORDER_MEMBER];if("REMOVE"==b)return a+".shift();\n"}else if("LAST"==c){if("GET"==b)return[a+".slice(-1)[0]",Blockly.cake.ORDER_MEMBER];
if("GET_REMOVE"==b)return[a+".pop()",Blockly.cake.ORDER_MEMBER];if("REMOVE"==b)return a+".pop();\n"}else if("FROM_START"==c){d=Blockly.isNumber(d)?parseFloat(d)-1:d+" - 1";if("GET"==b)return[a+"["+d+"]",Blockly.cake.ORDER_MEMBER];if("GET_REMOVE"==b)return[a+".splice("+d+", 1)[0]",Blockly.cake.ORDER_FUNCTION_CALL];if("REMOVE"==b)return a+".splice("+d+", 1);\n"}else if("FROM_END"==c){if("GET"==b)return[a+".slice(-"+d+")[0]",Blockly.cake.ORDER_FUNCTION_CALL];if("GET_REMOVE"==b||"REMOVE"==b){c=Blockly.cake.provideFunction_("lists_remove_from_end",
["function "+Blockly.cake.FUNCTION_NAME_PLACEHOLDER_+"(list, x) {","  x = list.length - x;","  return list.splice(x, 1)[0];","}"]);d=c+"("+a+", "+d+")";if("GET_REMOVE"==b)return[d,Blockly.cake.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+";\n"}}else if("RANDOM"==c){c=Blockly.cake.provideFunction_("lists_get_random_item",["function "+Blockly.cake.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {",
"    return list[x];","  }","}"]);d=c+"("+a+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[d,Blockly.cake.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+";\n"}throw"Unhandled combination (lists_getIndex).";};
Blockly.cake.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var a=Blockly.cake.variableDB_.getDistinctName("tmp_list",Blockly.Variables.NAME_TYPE),b="var "+a+" = "+c+";\n";c=a;return b}var c=Blockly.cake.valueToCode(a,"LIST",Blockly.cake.ORDER_MEMBER)||"[]",d=a.getFieldValue("MODE")||"GET",e=a.getFieldValue("WHERE")||"FROM_START",f=Blockly.cake.valueToCode(a,"AT",Blockly.cake.ORDER_NONE)||"1";a=Blockly.cake.valueToCode(a,"TO",Blockly.cake.ORDER_ASSIGNMENT)||"null";if("FIRST"==
e){if("SET"==d)return c+"[0] = "+a+";\n";if("INSERT"==d)return c+".unshift("+a+");\n"}else if("LAST"==e){if("SET"==d)return e=b(),e+(c+"["+c+".length - 1] = "+a+";\n");if("INSERT"==d)return c+".push("+a+");\n"}else if("FROM_START"==e){f=Blockly.isNumber(f)?parseFloat(f)-1:f+" - 1";if("SET"==d)return c+"["+f+"] = "+a+";\n";if("INSERT"==d)return c+".splice("+f+", 0, "+a+");\n"}else if("FROM_END"==e){e=b();if("SET"==d)return e+(c+"["+c+".length - "+f+"] = "+a+";\n");if("INSERT"==d)return e+(c+".splice("+
c+".length - "+f+", 0, "+a+");\n")}else if("RANDOM"==e){e=b();f=Blockly.cake.variableDB_.getDistinctName("tmp_x",Blockly.Variables.NAME_TYPE);e+="var "+f+" = Math.floor(Math.random() * "+c+".length);\n";if("SET"==d)return e+(c+"["+f+"] = "+a+";\n");if("INSERT"==d)return e+(c+".splice("+f+", 0, "+a+");\n")}throw"Unhandled combination (lists_setIndex).";};
Blockly.cake.lists_getSublist=function(a){var b=Blockly.cake.valueToCode(a,"LIST",Blockly.cake.ORDER_MEMBER)||"[]",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2"),e=Blockly.cake.valueToCode(a,"AT1",Blockly.cake.ORDER_NONE)||"1";a=Blockly.cake.valueToCode(a,"AT2",Blockly.cake.ORDER_NONE)||"1";return["FIRST"==c&&"LAST"==d?b+".concat()":Blockly.cake.provideFunction_("lists_get_sublist",["function "+Blockly.cake.FUNCTION_NAME_PLACEHOLDER_+"(list, where1, at1, where2, at2) {","  function getAt(where, at) {",
"    if (where == 'FROM_START') {","      at--;","    } else if (where == 'FROM_END') {","      at = list.length - at;","    } else if (where == 'FIRST') {","      at = 0;","    } else if (where == 'LAST') {","      at = list.length - 1;","    } else {","      throw 'Unhandled option (lists_getSublist).';","    }","    return at;","  }","  at1 = getAt(where1, at1);","  at2 = getAt(where2, at2) + 1;","  return list.slice(at1, at2);","}"])+"("+b+", '"+c+"', "+e+", '"+d+"', "+a+")",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.logic={};
Blockly.cake.controls_if=function(a){var b=0,c="";Blockly.cake.STATEMENT_PREFIX&&(c+=Blockly.cake.injectId(Blockly.cake.STATEMENT_PREFIX,a));do{var d=Blockly.cake.valueToCode(a,"IF"+b,Blockly.cake.ORDER_NONE)||"0";var e=Blockly.cake.statementToCode(a,"DO"+b);Blockly.cake.STATEMENT_SUFFIX&&(e=Blockly.cake.prefixLines(Blockly.cake.injectId(Blockly.cake.STATEMENT_SUFFIX,a),Blockly.cake.INDENT)+e);c+=(0<b?"else ":"")+"if ("+d+") {\n"+e+"}";++b}while(a.getInput("IF"+b));if(a.getInput("ELSE")||Blockly.cake.STATEMENT_SUFFIX)e=
Blockly.cake.statementToCode(a,"ELSE"),Blockly.cake.STATEMENT_SUFFIX&&(e=Blockly.cake.prefixLines(Blockly.cake.injectId(Blockly.cake.STATEMENT_SUFFIX,a),Blockly.cake.INDENT)+e),c+=" else {\n"+e+"}";return c+"\n"};
Blockly.cake.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[a.getFieldValue("OP")],c="=="==b||"!="==b?Blockly.cake.ORDER_EQUALITY:Blockly.cake.ORDER_RELATIONAL,d=Blockly.cake.valueToCode(a,"A",c)||"0";a=Blockly.cake.valueToCode(a,"B",c)||"0";return[d+" "+b+" "+a,c]};
Blockly.cake.logic_operation=function(a){var b="AND"==a.getFieldValue("OP")?"&&":"||",c="&&"==b?Blockly.cake.ORDER_LOGICAL_AND:Blockly.cake.ORDER_LOGICAL_OR,d=Blockly.cake.valueToCode(a,"A",c);a=Blockly.cake.valueToCode(a,"B",c);if(d||a){var e="&&"==b?"1":"0";d||(d=e);a||(a=e)}else a=d="0";return[d+" "+b+" "+a,c]};Blockly.cake.logic_negate=function(a){var b=Blockly.cake.ORDER_LOGICAL_NOT;return["!"+(Blockly.cake.valueToCode(a,"BOOL",b)||"1"),b]};
Blockly.cake.logic_boolean=function(a){return["TRUE"==a.getFieldValue("BOOL")?"true":"false",Blockly.cake.ORDER_ATOMIC]};Blockly.cake.logic_null=function(a){return["NULL",Blockly.cake.ORDER_ATOMIC]};Blockly.cake.logic_ternary=function(a){var b=Blockly.cake.valueToCode(a,"IF",Blockly.cake.ORDER_CONDITIONAL)||"0",c=Blockly.cake.valueToCode(a,"THEN",Blockly.cake.ORDER_CONDITIONAL)||"NULL";a=Blockly.cake.valueToCode(a,"ELSE",Blockly.cake.ORDER_CONDITIONAL)||"NULL";return[b+" ? "+c+" : "+a,Blockly.cake.ORDER_CONDITIONAL]};Blockly.cake.loops={};
Blockly.cake.controls_repeat_ext=function(a){var b=a.getField("TIMES")?String(Number(a.getFieldValue("TIMES"))):Blockly.cake.valueToCode(a,"TIMES",Blockly.cake.ORDER_ASSIGNMENT)||"0",c=Blockly.cake.statementToCode(a,"DO");c=Blockly.cake.addLoopTrap(c,a);a="";var d=Blockly.cake.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),e=b;b.match(/^\w+$/)||Blockly.isNumber(b)||(e=Blockly.cake.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE),a+="int32_t "+e+" = "+b+";\n");
return a+("for (int32_t "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};Blockly.cake.controls_repeat=Blockly.cake.controls_repeat_ext;Blockly.cake.controls_whileUntil=function(a){var b="UNTIL"==a.getFieldValue("MODE"),c=Blockly.cake.valueToCode(a,"BOOL",b?Blockly.cake.ORDER_LOGICAL_NOT:Blockly.cake.ORDER_NONE)||"0",d=Blockly.cake.statementToCode(a,"DO");d=Blockly.cake.addLoopTrap(d,a.id);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
Blockly.cake.controls_doWhile=function(a){var b="UNTIL"==a.getFieldValue("MODE"),c=Blockly.cake.valueToCode(a,"BOOL",b?Blockly.cake.ORDER_LOGICAL_NOT:Blockly.cake.ORDER_NONE)||"0",d=Blockly.cake.statementToCode(a,"DO");d=Blockly.cake.addLoopTrap(d,a.id);b&&(c="!"+c);return"do {\n"+d+"} while ("+c+");\n"};
Blockly.cake.controls_for=function(a){var b=Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),c=Blockly.cake.valueToCode(a,"FROM",Blockly.Dart.ORDER_ASSIGNMENT)||"0",d=Blockly.cake.valueToCode(a,"TO",Blockly.Dart.ORDER_ASSIGNMENT)||"0",e=Blockly.cake.valueToCode(a,"BY",Blockly.Dart.ORDER_ASSIGNMENT)||"1",f=Blockly.cake.statementToCode(a,"DO");f=Blockly.cake.addLoopTrap(f,a.id);if(Blockly.isNumber(c)&&Blockly.isNumber(d)&&Blockly.isNumber(e)){var g=parseFloat(c)<=
parseFloat(d);a="for ("+b+" = "+c+"; "+b+(g?" <= ":" >= ")+d+"; "+b;b=Math.abs(parseFloat(e));a=(1==b?a+(g?"++":"--"):a+((g?" += ":" -= ")+b))+(") {\n"+f+"}\n")}else a="",g=c,c.match(/^\w+$/)||Blockly.isNumber(c)||(g=Blockly.cake.variableDB_.getDistinctName(b+"_start",Blockly.Variables.NAME_TYPE),a+="var "+g+" = "+c+";\n"),c=d,d.match(/^\w+$/)||Blockly.isNumber(d)||(c=Blockly.cake.variableDB_.getDistinctName(b+"_end",Blockly.Variables.NAME_TYPE),a+="int32_t "+c+" = "+d+";\n"),d=Blockly.cake.variableDB_.getDistinctName(b+
"_inc",Blockly.Variables.NAME_TYPE),a+="int32_t "+d+" = ",a=Blockly.isNumber(e)?a+(Math.abs(e)+";\n"):a+("("+e+").abs();\n"),a=a+("if ("+g+" > "+c+") {\n")+(Blockly.cake.INDENT+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+g+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n";return a};
Blockly.cake.controls_flow_statements=function(a){var b="";Blockly.cake.STATEMENT_PREFIX&&(b+=Blockly.cake.injectId(Blockly.cake.STATEMENT_PREFIX,a));Blockly.cake.STATEMENT_SUFFIX&&(b+=Blockly.cake.injectId(Blockly.cake.STATEMENT_SUFFIX,a));if(Blockly.cake.STATEMENT_PREFIX){var c=Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(a);c&&!c.suppressPrefixSuffix&&(b+=Blockly.cake.injectId(Blockly.cake.STATEMENT_PREFIX,c))}switch(a.getFieldValue("FLOW")){case "BREAK":return b+"break;\n";
case "CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.");};Blockly.cake.math={};Blockly.cake.math_number=function(a){a=parseFloat(a.getFieldValue("NUM"));if(Infinity==a){Blockly.cake.definitions_.include_cake_math="#include <math.h>";a="INFINITY";var b=Blockly.cake.ORDER_UNARY_POSTFIX}else-Infinity==a?(Blockly.cake.definitions_.include_cake_math="#include <math.h>",a="-INFINITY",b=Blockly.cake.ORDER_UNARY_PREFIX):b=0>a?Blockly.cake.ORDER_UNARY_NEGATION:Blockly.cake.ORDER_ATOMIC;return[a,b]};
Blockly.cake.math_arithmetic=function(a){var b={ADD:[" + ",Blockly.cake.ORDER_ADDITION],MINUS:[" - ",Blockly.cake.ORDER_SUBTRACTION],MULTIPLY:[" * ",Blockly.cake.ORDER_MULTIPLICATION],DIVIDE:[" / ",Blockly.cake.ORDER_DIVISION],POWER:[null,Blockly.cake.ORDER_NONE]}[a.getFieldValue("OP")],c=b[0];b=b[1];var d=Blockly.cake.valueToCode(a,"A",b)||"0";a=Blockly.cake.valueToCode(a,"B",b)||"0";return c?["("+d+c+a+")",b]:(Blockly.cake.definitions_.include_cake_math="#include <math.h>",["pow("+d+", "+a+")",
Blockly.cake.ORDER_FUNCTION_CALL])};
Blockly.cake.math_single=function(a){var b=a.getFieldValue("OP");if("NEG"==b)return a=Blockly.cake.valueToCode(a,"NUM",Blockly.cake.ORDER_UNARY_NEGATION)||"0","-"==a[0]&&(a=" "+a),["-"+a,Blockly.cake.ORDER_UNARY_NEGATION];Blockly.cake.definitions_.include_cake_math="#include <math.h>";a="SIN"==b||"COS"==b||"TAN"==b?Blockly.cake.valueToCode(a,"NUM",Blockly.cake.ORDER_MULTIPLICATION)||"0":Blockly.cake.valueToCode(a,"NUM",Blockly.cake.ORDER_NONE)||"0";switch(b){case "ABS":var c="fabs("+a+")";break;case "ROOT":c=
"sqrt("+a+")";break;case "LN":c="log("+a+")";break;case "EXP":c="exp("+a+")";break;case "POW10":c="pow("+a+",10)";break;case "ROUND":c="round("+a+")";break;case "ROUNDUP":c="ceil("+a+")";break;case "ROUNDDOWN":c="floor("+a+")";break;case "SIN":c="sin("+a+" * M_PI / 180)";break;case "COS":c="cos("+a+" * M_PI / 180)";break;case "TAN":c="tan("+a+" * M_PI / 180)"}if(c)return[c,Blockly.cake.ORDER_FUNCTION_CALL];switch(b){case "LOG10":c="log10("+a+")";break;case "ASIN":c="asin("+a+") * 180 / M_PI";break;
case "ACOS":c="acos("+a+") * 180 / M_PI";break;case "ATAN":c="atan("+a+") * 180 / M_PI";break;default:throw Error("Unknown math operator: "+b);}return[c,Blockly.cake.ORDER_MULTIPLICATION]};
Blockly.cake.math_constant=function(a){Blockly.cake.definitions_.include_cake_math="#include <math.h>";return{PI:["M_PI",Blockly.cake.ORDER_MEMBER],E:["exp(1)",Blockly.cake.ORDER_FUNCTION_CALL],GOLDEN_RATIO:["(1 + sqrt(5)) / 2",Blockly.cake.ORDER_DIVISION],SQRT2:["sqrt(2)",Blockly.cake.ORDER_FUNCTION_CALL],SQRT1_2:["sqrt(1/2)",Blockly.cake.ORDER_FUNCTION_CALL],INFINITY:["INFINITY",Blockly.cake.ORDER_MEMBER]}[a.getFieldValue("CONSTANT")]};Blockly.cake.math_round=Blockly.cake.math_single;
Blockly.cake.math_trig=Blockly.cake.math_single;Blockly.cake.math_modulo=function(a){var b=Blockly.cake.valueToCode(a,"DIVIDEND",Blockly.cake.ORDER_MODULUS)||"0";a=Blockly.cake.valueToCode(a,"DIVISOR",Blockly.cake.ORDER_MODULUS)||"0";return[b+" % "+a,Blockly.cake.ORDER_MODULUS]};
Blockly.cake.math_number_property=function(a){var b=Blockly.cake.valueToCode(a,"NUMBER_TO_CHECK",Blockly.cake.ORDER_MODULUS)||"0",c=a.getFieldValue("PROPERTY");if("PRIME"==c)return Blockly.cake.definitions_.include_cake_math="#include <math.h>",[Blockly.cake.provideFunction_("math_isPrime",["bool "+Blockly.cake.FUNCTION_NAME_PLACEHOLDER_+"(double n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is null, negative, is 1, or not whole.",
"  // And false if n is divisible by 2 or 3.","  if (n <= 1 || fmod(n, 1) != 0 || fmod(n, 2) == 0 || fmod(n , 3) == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (double x = 6; x <= sqrt(n) + 1; x += 6) {","    if (fmod(n , (x - 1)) == 0 || fmod(n , (x + 1)) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")",Blockly.cake.ORDER_FUNCTION_CALL];switch(c){case "EVEN":Blockly.cake.definitions_.include_cake_math="#include <math.h>";
var d="fmod("+b+", 2) == 0";break;case "ODD":Blockly.cake.definitions_.include_cake_math="#include <math.h>";d="fmod("+b+", 2) == 1";break;case "WHOLE":Blockly.cake.definitions_.include_cake_math="#include <math.h>";d="fmod("+b+", 2) == 0";break;case "POSITIVE":d=b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":Blockly.cake.definitions_.include_cake_math="#include <math.h>",a=Blockly.cake.valueToCode(a,"DIVISOR",Blockly.cake.ORDER_MODULUS)||"0",d="fmod("+b+", "+a+") == 0"}return[d,
Blockly.cake.ORDER_EQUALITY]};Blockly.cake.math_constrain=function(a){Blockly.cake.definitions_.include_cake_math="#include <math.h>";var b=Blockly.cake.valueToCode(a,"VALUE",Blockly.cake.ORDER_COMMA)||"0",c=Blockly.cake.valueToCode(a,"LOW",Blockly.cake.ORDER_COMMA)||"0";a=Blockly.cake.valueToCode(a,"HIGH",Blockly.cake.ORDER_COMMA)||"INFINITY";return["fmin(fmax("+b+", "+c+"), "+a+")",Blockly.cake.ORDER_FUNCTION_CALL]};
Blockly.cake.math_random_int=function(a){Blockly.cake.definitions_.include_cake_stdlib="#include <stdlib.h>";Blockly.cake.definitions_.include_cake_time="#include <time.h>";var b=Blockly.cake.valueToCode(a,"FROM",Blockly.cake.ORDER_COMMA)||"0";a=Blockly.cake.valueToCode(a,"TO",Blockly.cake.ORDER_COMMA)||"0";return[Blockly.cake.provideFunction_("mathRandomInt",["int32_t "+Blockly.cake.FUNCTION_NAME_PLACEHOLDER_+"(int32_t a, int32_t b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.",
"    int32_t c = a;","    a = b;","    b = c;","  }","  return (rand() % b + a);","}"])+"("+b+", "+a+")",Blockly.cake.ORDER_FUNCTION_CALL]};
Blockly.cake.math_random_float=function(a){Blockly.cake.definitions_.include_cake_stdlib="#include <stdlib.h>";Blockly.cake.definitions_.include_cake_time="#include <time.h>";return[Blockly.cake.provideFunction_("mathRandomFloat",["float "+Blockly.cake.FUNCTION_NAME_PLACEHOLDER_+"() {","  // Random fraction between 0 and 1.","  return static_cast <float> (rand()) / static_cast <float> (RAND_MAX);","}"])+"()",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.cake.math_atan2=function(a){Blockly.cake.definitions_.include_cake_math="#include <math.h>";var b=Blockly.cake.valueToCode(a,"X",Blockly.cake.ORDER_COMMA)||"0";return["atan2("+(Blockly.cake.valueToCode(a,"Y",Blockly.cake.ORDER_COMMA)||"0")+", "+b+") / M_PI * 180",Blockly.cake.ORDER_DIVISION]};

Blockly.cake.pluto_LED={};Blockly.cake.red_led=function(a){a="LED.set(RED,"+a.getFieldValue("STATE")+");\n";Blockly.cake.Pluto_On_Start_AUTO_CODE.LED_AUTO_INSERTION="LED.flightStatus(DEACTIVATE)";Blockly.cake.Pluto_On_Stop_AUTO_CODE.LED_AUTO_INSERTION="LED.flightStatus(ACTIVATE)";return a};
Blockly.cake.green_led=function(a){a="LED.set(GREEN,"+a.getFieldValue("STATE")+");\n";Blockly.cake.Pluto_On_Start_AUTO_CODE.LED_AUTO_INSERTION="LED.flightStatus(DEACTIVATE)";Blockly.cake.Pluto_On_Stop_AUTO_CODE.LED_AUTO_INSERTION="LED.flightStatus(ACTIVATE)";return a};
Blockly.cake.gpio_write={};
Blockly.cake.Pin_10=function(a){var b=a.getFieldValue("NAME");a="GPIO.write("+a.getFieldValue("NAME")+","+a.getFieldValue("STATE")+");\n";Blockly.cake.Pluto_init_AUTO_CODE[b+"_AUTO_INSERTION"]="GPIO.init("+b+",OUTPUT)";return a};
Blockly.cake.gpio_read=function(a){var b=a.getFieldValue("read_pin");a=["GPIO.read("+a.getFieldValue("read_pin")+")",Blockly.cake.ORDER_FUNCTION_CALL];Blockly.cake.Pluto_init_AUTO_CODE[b+"_AUTO_INSERTION"]="GPIO.init("+b+",INPUT)";return a};

Blockly.cake.adc_read=function(a){var b=a.getFieldValue("read_adc");a=["ADC.read("+a.getFieldValue("read_adc")+")",Blockly.cake.ORDER_FUNCTION_CALL];Blockly.cake.Pluto_init_AUTO_CODE[b+"_AUTO_INSERTION"]="ADC.init("+b+")";return a};
//blockly.cake.app_heading=function(a){a=["App.getAppHeading();",Blockly.cake.ORDER_FUNCTION_CALL];return a};
Blockly.cake.app_heading=function(a){a=["App.getAppHeading()",Blockly.cake.ORDER_FUNCTION_CALL];return a};

Blockly.cake.pluto_pwm={};Blockly.cake.servo_pwm=function(a){return[a.getFieldValue("pwm"),Blockly.cake.ORDER_ATOMIC]};Blockly.cake.set_servo=function(a){var b = a.getFieldValue("read_pwm");Blockly.cake.Pluto_init_AUTO_CODE[b+"_AUTO_INSERTION"]="PWM.init("+b+",50)";return"PWM.write("+a.getFieldValue("read_pwm")+","+(a.getField("pwm")?String(Number(a.getFieldValue("pwm"))):Blockly.cake.valueToCode(a,"pwm",Blockly.cake.ORDER_ASSIGNMENT)||"1000")+");\n";};
Blockly.cake.pluto_monitor={};Blockly.cake.pluto_monitor_print_text_shadow=function(a){return[Blockly.cake.quote_(a.getFieldValue("TEXT")),Blockly.cake.ORDER_ATOMIC]};Blockly.cake.pluto_monitor_print=function(a){return'Monitor.print("'+(Blockly.cake.valueToCode(a,"TEXT0",Blockly.cake.ORDER_NONE)||"")+'");\n'};
Blockly.cake.pluto_monitor_print_var=function(a){var b=Blockly.cake.valueToCode(a,"TEXT0",Blockly.cake.ORDER_NONE)||"";a=a.getField("VAR0")?String(Number(a.getFieldValue("VAR0"))):Blockly.cake.valueToCode(a,"VAR0",Blockly.cake.ORDER_ASSIGNMENT)||"0";return'Monitor.print("'+b+'" , '+a+");\n"};
Blockly.cake.blue_led=function(a){a="LED.set(BLUE,"+a.getFieldValue("STATE")+");\n";Blockly.cake.Pluto_On_Start_AUTO_CODE.LED_AUTO_INSERTION="LED.flightStatus(DEACTIVATE)";Blockly.cake.Pluto_On_Stop_AUTO_CODE.LED_AUTO_INSERTION="LED.flightStatus(ACTIVATE)";return a};Blockly.cake.pluto_basic={};Blockly.cake.pluto_on_start_loop=function(a){Blockly.cake.definitions_.include_cake_pluto_pilot='#include "PlutoPilot.h"';var b="";var c=Blockly.cake.statementToCode(a,"FUNCTION_BODY");Blockly.cake.STATEMENT_SUFFIX&&(c=Blockly.cake.prefixLines(Blockly.cake.injectId(Blockly.cake.STATEMENT_SUFFIX,a),Blockly.cake.INDENT)+c);b+="void onLoopStart () {\n"+Blockly.cake.INDENT+"onLoopStartAutoInsertion();\n"+c+"}";return b+"\n"};
Blockly.cake.pluto_on_stop_loop=function(a){var b="";var c=Blockly.cake.statementToCode(a,"FUNCTION_BODY");Blockly.cake.STATEMENT_SUFFIX&&(c=Blockly.cake.prefixLines(Blockly.cake.injectId(Blockly.cake.STATEMENT_SUFFIX,a),Blockly.cake.INDENT)+c);b+="void onLoopFinish() {\n"+c+Blockly.cake.INDENT+"onLoopStopAutoInsertion();\n}";return b+"\n"};
Blockly.cake.pluto_loop=function(a){Blockly.cake.Pluto_init_AUTO_CODE.LOOP_TIME_AUTO_INSERTION="setUserLoopFrequency("+a.getFieldValue("LoopTime")+")";var b=Blockly.cake.statementToCode(a,"FUNCTION_BODY");Blockly.cake.STATEMENT_SUFFIX&&(b=Blockly.cake.prefixLines(Blockly.cake.injectId(Blockly.cake.STATEMENT_SUFFIX,a),Blockly.cake.INDENT)+b);return"void plutoLoop () {\n"+b+"}\n"};Blockly.cake.pluto_command={};Blockly.cake.take_off=function(a){return"Command.takeOff("+a.getFieldValue("height")+");\n"};Blockly.cake.land=function(a){return"Command.land("+a.getFieldValue("land_speed")+");\n"};Blockly.cake.flip=function(a){return"Command.flip(BACK_FLIP);\n"};Blockly.cake.arm=function(a){return"Command.arm();\n"};Blockly.cake.disarm=function(a){return"Command.disarm();\n"};Blockly.cake.pluto_current_state={};Blockly.cake.current_roll=function(a){return["Angle.get(AG_ROLL)/10",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.current_pitch=function(a){return["Angle.get(AG_PITCH)/10",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.current_yaw=function(a){return["Angle.get(AG_YAW)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.current_height=function(a){return["Position.get(Z)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.pluto_desired_state={};Blockly.cake.field_angle_roll=function(a){a=a.getFieldValue("angle_field");return[a,0>a?Blockly.cake.ORDER_UNARY_NEGATION:Blockly.cake.ORDER_ATOMIC]};Blockly.cake.field_angle_pitch=function(a){return[a.getFieldValue("angle_field"),Blockly.cake.ORDER_ATOMIC]};Blockly.cake.field_angle_yaw=function(a){a=a.getFieldValue("angle_field");return[a,0>a?Blockly.cake.ORDER_UNARY_NEGATION:Blockly.cake.ORDER_ATOMIC]};
Blockly.cake.desired_roll=function(a){return"DesiredAngle.set(AG_ROLL, "+(a.getField("roll_value")?String(Number(a.getFieldValue("roll_value"))):Blockly.cake.valueToCode(a,"roll_value",Blockly.cake.ORDER_ASSIGNMENT)||"0")+"* 10);\n"};Blockly.cake.desired_pitch=function(a){return"DesiredAngle.set(AG_PITCH, "+(a.getField("pitch_value")?String(Number(a.getFieldValue("pitch_value"))):Blockly.cake.valueToCode(a,"pitch_value",Blockly.cake.ORDER_ASSIGNMENT)||"0")+"* 10);\n"};
Blockly.cake.desired_yaw=function(a){return"DesiredAngle.set(AG_YAW, "+(a.getField("yaw_value")?String(Number(a.getFieldValue("yaw_value"))):Blockly.cake.valueToCode(a,"yaw_value",Blockly.cake.ORDER_ASSIGNMENT)||"0")+");\n"};Blockly.cake.desired_height=function(a){return"DesiredPosition.set(Z, "+(a.getField("height")?String(Number(a.getFieldValue("height"))):Blockly.cake.valueToCode(a,"height",Blockly.cake.ORDER_ASSIGNMENT)||"0")+");\n"};Blockly.cake.pluto_flight_mode={};Blockly.cake.is_headfree=function(a){return["FlightMode.check(HEADFREE)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.is_throttle_mode=function(a){return["FlightMode.check(THROTTLE_MODE)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.pluto_flight_status={};Blockly.cake.is_armed=function(a){return["FlightStatus.check(FS_ARMED)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.is_ok_to_arm=function(a){return["FlightStatus.check(FS_OK_TO_ARM)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.is_ok_to_arm=function(a){return["FlightStatus.check(FS_OK_TO_ARM)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.is_signal_loss=function(a){return["FlightStatus.check(FS_SIGNAL_LOSS)",Blockly.cake.ORDER_FUNCTION_CALL]};
Blockly.cake.is_crashed=function(a){return["FlightStatus.check(FS_CRASHED)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.is_inflight_low_battery=function(a){return["FlightStatus.check(FS_INFLIGHT_LOW_BATTERY)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.is_low_battery=function(a){return["FlightStatus.check(FS_LOW_BATTERY)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.is_mag_calibration=function(a){return["FlightStatus.check(FS_MAG_CALIBARATION)",Blockly.cake.ORDER_FUNCTION_CALL]};
Blockly.cake.is_acc_calibration=function(a){return["FlightStatus.check(FS_ACCEL_GYRO_CALIBRATION)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.pluto_interval={};Blockly.cake.timer_slider=function(a){return[a.getFieldValue("TIME"),Blockly.cake.ORDER_ATOMIC]};
Blockly.cake.set_timer=function(a){var b=Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);Blockly.cake.Pluto_On_Start_AUTO_CODE[b+"_AUTO_INSERTION"]=b+".reset()";var c=a.getField("TIME")?String(Number(a.getFieldValue("TIME"))):Blockly.cake.valueToCode(a,"TIME",Blockly.cake.ORDER_ASSIGNMENT)||"0";a=a.getField("REPEAT")?String(Number(a.getFieldValue("REPEAT"))):Blockly.cake.valueToCode(a,"REPEAT",Blockly.cake.ORDER_ASSIGNMENT)||"true";return b+".set("+c+","+a+");\n"};
Blockly.cake.reset_timer=function(a){return Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+".reset();\n"};Blockly.cake.timer_check=function(a){return[Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+".check()",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.pluto_motor={};
Blockly.cake.motor_pwm=function(a){return[a.getFieldValue("pwm"),Blockly.cake.ORDER_ATOMIC]};Blockly.cake.set_m5=function(a){return"Motor.set(M5,"+(a.getField("pwm")?String(Number(a.getFieldValue("pwm"))):Blockly.cake.valueToCode(a,"pwm",Blockly.cake.ORDER_ASSIGNMENT)||"1000")+");\n"};Blockly.cake.set_m6=function(a){return"Motor.set(M6,"+(a.getField("pwm")?String(Number(a.getFieldValue("pwm"))):Blockly.cake.valueToCode(a,"pwm",Blockly.cake.ORDER_ASSIGNMENT)||"1000")+");\n"};
Blockly.cake.set_m7=function(a){return"Motor.set(M7,"+(a.getField("pwm")?String(Number(a.getFieldValue("pwm"))):Blockly.cake.valueToCode(a,"pwm",Blockly.cake.ORDER_ASSIGNMENT)||"1000")+");\n"};Blockly.cake.set_m8=function(a){return"Motor.set(M8,"+(a.getField("pwm")?String(Number(a.getFieldValue("pwm"))):Blockly.cake.valueToCode(a,"pwm",Blockly.cake.ORDER_ASSIGNMENT)||"1000")+");\n"};Blockly.cake.pluto_remote_control={};Blockly.cake.rc_roll=function(a){return["RcData.get(RC_ROLL)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.rc_pitch=function(a){return["RcData.get(RC_PITCH)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.rc_yaw=function(a){return["RcData.get(RC_YAW)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.rc_throttle=function(a){return["RcData.get(RC_THROTTLE)",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.pluto_sensor={};Blockly.cake.get_acc=function(a){return["NET_ACC"==a.getFieldValue("AXIS")?"Acceleration.getNetAcc()":"Acceleration.get("+a.getFieldValue("AXIS")+")",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.get_gyroscope=function(a){return["Gyroscope.get("+a.getFieldValue("AXIS")+")",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.get_mag=function(a){return["Magnetometer.get("+a.getFieldValue("AXIS")+")",Blockly.cake.ORDER_FUNCTION_CALL]};

Blockly.cake.pluto_remote_control={};Blockly.cake.rc_roll=function(a){return["RcData.get(RC_ROLL)",Blockly.cake.ORDER_FUNCTION_CALL]};
Blockly.cake.rc_pitch=function(a){return["RcData.get(RC_PITCH)",Blockly.cake.ORDER_FUNCTION_CALL]};
Blockly.cake.rc_yaw=function(a){return["RcData.get(RC_YAW)",Blockly.cake.ORDER_FUNCTION_CALL]};
Blockly.cake.rc_throttle=function(a){return["RcData.get(RC_THROTTLE)",Blockly.cake.ORDER_FUNCTION_CALL]};

Blockly.cake.rc_set=function(a){return[a.getFieldValue("rcValue"),Blockly.cake.ORDER_ATOMIC]};
Blockly.cake.set_pitch=function(a){return"RcCommand.set(RC_PITCH,"+(a.getField("rcValue")?String(Number(a.getFieldValue("rcValue"))):Blockly.cake.valueToCode(a,"rcValue",Blockly.cake.ORDER_ASSIGNMENT)||"1000")+");\n"};
Blockly.cake.set_roll=function(a){return"RcCommand.set(RC_ROLL,"+(a.getField("rcValue")?String(Number(a.getFieldValue("rcValue"))):Blockly.cake.valueToCode(a,"rcValue",Blockly.cake.ORDER_ASSIGNMENT)||"1000")+");\n"};
Blockly.cake.set_yaw=function(a){return"RcCommand.set(RC_YAW,"+(a.getField("rcValue")?String(Number(a.getFieldValue("rcValue"))):Blockly.cake.valueToCode(a,"rcValue",Blockly.cake.ORDER_ASSIGNMENT)||"1000")+");\n"};
Blockly.cake.set_throttle=function(a){return"RcCommand.set(RC_THROTTLE,"+(a.getField("prcValue")?String(Number(a.getFieldValue("rcValue"))):Blockly.cake.valueToCode(a,"rcValue",Blockly.cake.ORDER_ASSIGNMENT)||"1000")+");\n"};



Blockly.cake.get_baro=function(a){return["Barometer.get("+a.getFieldValue("BARO_TYPE")+")",Blockly.cake.ORDER_FUNCTION_CALL]};Blockly.cake.procedures={};
Blockly.cake.main_block=function(a){var b=Blockly.cake.statementToCode(a,"STACK");Blockly.cake.STATEMENT_PREFIX&&(b=Blockly.cake.prefixLines(Blockly.cake.STATEMENT_PREFIX.replace(/%1/g,"'"+a.id+"'"),Blockly.cake.INDENT)+b);Blockly.cake.INFINITE_LOOP_TRAP&&(b=Blockly.cake.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+b);var c=Blockly.cake.valueToCode(a,"RETURN",Blockly.cake.ORDER_NONE)||"";c=c?"  return "+c+";\n":"  return 0;\n";for(var d=[],e=[],f=[],g=0;g<a.arguments_.length;g++)d[g]=Blockly.cake.variableDB_.getName(a.arguments_[g],
Blockly.Variables.NAME_TYPE),e[g]=a.types_[g],f[g]=e[g]+" "+d[g];d=[];e=[];for(var h in Blockly.cake.times_)g=Blockly.cake.times_[h],h.match("srand")?"main_block"==g[0]&&(g=Blockly.cake.prefixLines(g[1],Blockly.cake.INDENT),d.push(g)):h.match("time")&&"main_block"==g[0]&&(g=Blockly.cake.prefixLines(g[1],Blockly.cake.INDENT),e.push(g));h=d.length?d.join("\n")+"\n"+e.join("\n"):e.join("\n");b="int main("+f.join(", ")+") {"+h.replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n")+b+c+"}";b=Blockly.cake.scrub_(a,
b);Blockly.cake.definitions_.main=b;return null};Blockly.cake.procedures_return=function(a){return(a=a.getFieldValue("VALUE"))?"return "+a+";\n":"return 0;\n"};
Blockly.cake.procedures_defreturn=function(a){var b=Blockly.cake.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=Blockly.cake.statementToCode(a,"STACK");Blockly.cake.STATEMENT_PREFIX&&(c=Blockly.cake.prefixLines(Blockly.cake.STATEMENT_PREFIX.replace(/%1/g,"'"+a.id+"'"),Blockly.cake.INDENT)+c);Blockly.cake.INFINITE_LOOP_TRAP&&(c=Blockly.cake.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+c);var d=Blockly.cake.valueToCode(a,"RETURN",Blockly.cake.ORDER_NONE)||"";d=d?"  return "+
d+";\n":"  return 0;\n";var e=Blockly.Procedures.getTypePlusArgs(a),f=[],g=[];for(k in Blockly.cake.times_){var h=Blockly.cake.times_[k];k.match("srand")?h[0]==b&&(h=Blockly.cake.prefixLines(h[1],Blockly.cake.INDENT),f.push(h)):k.match("time")&&h[0]==b&&(h=Blockly.cake.prefixLines(h[1],Blockly.cake.INDENT),g.push(h))}g=f.length?f.join("\n")+"\n"+g.join("\n"):g.join("\n");f=a.getFieldValue("TYPES");var k=a.getFieldValue("DISTS");"pointer"==k?(k=a.getFieldValue("PSPECS"),null==k&&(k="*"),c=f+k+" "+
b+"("+e.join(", ")+") {\n"+g.replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n")+c+d+"}"):"array"==k?(k=a.getFieldValue("ASPECS"),null==k&&(k="[]"),c=f+k+" "+b+"("+e.join(", ")+") {\n"+g.replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n")+c+d+"}"):c=f+" "+b+"("+e.join(", ")+") {\n"+g.replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n")+c+d+"}";c=Blockly.cake.scrub_(a,c);Blockly.cake.definitions_[b]=c;Blockly.cake.definitions_["Func_declare"+b]=f+" "+b+"("+e.join(", ")+");";-1==Blockly.Blocks.checkLegalName(Blockly.Msg.PROCEDURES_ILLEGALNAME,
b)&&this.initName();return null};
Blockly.cake.procedures_defnoreturn=function(a){var b=Blockly.cake.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=Blockly.cake.statementToCode(a,"STACK"),d=[],e=[],f;for(f in Blockly.cake.times_){var g=Blockly.cake.times_[f];f.match("srand")?g[0]==b&&(g=Blockly.cake.prefixLines(g[1],Blockly.cake.INDENT),d.push(g)):f.match("time")&&g[0]==b&&(g=Blockly.cake.prefixLines(g[1],Blockly.cake.INDENT),e.push(g))}e=d.length?d.join("\n")+"\n"+e.join("\n"):e.join("\n");Blockly.cake.STATEMENT_PREFIX&&
(c=Blockly.cake.prefixLines(Blockly.cake.STATEMENT_PREFIX.replace(/%1/g,"'"+a.id+"'"),Blockly.cake.INDENT)+c);Blockly.cake.INFINITE_LOOP_TRAP&&(c=Blockly.cake.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+c);(f=Blockly.cake.valueToCode(a,"RETURN",Blockly.cake.ORDER_NONE)||"")&&(f="  return "+f+";\n");d=Blockly.Procedures.getTypePlusArgs(a);c="void "+b+"("+d.join(", ")+") {\n"+e.replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n")+c+f+"}";c=Blockly.cake.scrub_(a,c);Blockly.cake.definitions_[b]=c;Blockly.cake.definitions_["Func_declare"+
b]="void "+b+"("+d.join(", ")+");";-1==Blockly.Blocks.checkLegalName(Blockly.Msg.PROCEDURES_ILLEGALNAME,b)&&this.initName();return null};Blockly.cake.procedures_callreturn=function(a){for(var b=Blockly.cake.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.cake.valueToCode(a,"ARG"+d,Blockly.cake.ORDER_COMMA)||"null";return[b+"("+c.join(", ")+")",Blockly.cake.ORDER_FUNCTION_CALL]};
Blockly.cake.procedures_callnoreturn=function(a){for(var b=Blockly.cake.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.cake.valueToCode(a,"ARG"+d,Blockly.cake.ORDER_COMMA)||"null";return b+"("+c.join(", ")+");\n"};Blockly.cake.stdio={};
Blockly.cake.library_stdio_printf=function(a){for(var b,c,d="",e="",f=0;f<=a.printAddCount_;f++){b=Blockly.cake.valueToCode(a,"VAR"+f,Blockly.cake.ORDER_NONE)||"";c=a.inputList[f].connection;var g=c.targetBlock();if(g){var h=g.type;"math_arithmetic"==h||"math_modulo"==h||"library_math_abs"==h||"library_math_trig"==h||"library_math_logs"==h||"library_math_pow"==h||"library_math_exp"==h||"library_math_sqrt"==h||"library_math_round"==h||"library_string_strlen"==h||"library_stdlib_rand"==h||"library_stdlib_number_forRandScope1"==
h||"library_stdlib_number_forRandScope100"==h||"library_stdlib_sizeof_forMalloc"==h||"library_stdlib_arithmetic_forMalloc"==h||"library_stdlib_number_forMalloc"==h?(d+="%d",e+=", "+b):"library_string_strcat"==h||"library_string_strcpy"==h||"library_string_strcmp"==h?(d+="%s",e+=", "+b):"library_stdlib_convert"==h?(-1!=b.indexOf("atoi(")?d+="%d":-1!=b.indexOf("atof(")&&(d+="%f"),e+=", "+b):"variables_array_get"==h?(c=b.split("["),c=Blockly.cake.varTypeCheckInPrintScan(c[0]),""==c?d+=b:(d+=c,e+=", "+
b)):"variables_pointer_get"==h?(d+="%p",e+=", "+b):"variables_pointer_&"==h?g.inputList[0].connection.targetBlock()&&(b=Blockly.cake.valueToCode(g,"VALUE",Blockly.cake.ORDER_NONE)||"",d+="%p",e+=", &"+b):"variables_pointer_*"==h?g.inputList[0].connection.targetBlock()&&(b=Blockly.cake.valueToCode(g,"VALUE",Blockly.cake.ORDER_NONE)||"",0<=b.indexOf("*")&&g.inputList[0].connection.targetBlock().inputList[0].connection.targetBlock()?(b=Blockly.cake.valueToCode(g.inputList[0].connection.targetBlock(),
"VALUE",Blockly.cake.ORDER_NONE)||"",c=Blockly.cake.pointerTypeCheckInPrint(b,!0),""==c?d+=b:(d+=c,e+=", **"+b)):(c=Blockly.cake.pointerTypeCheckInPrint(b,!1),""==c?d+=b:(d+=c,e+=", *"+b))):"library_math_numcheck"==h||"library_math_numcompare"==h||"procedures_callreturn"==h||"logic_compare"==h||"logic_operation"==h||"logic_negate"==h||"logic_boolean"==h||"logic_null"==h||"logic_ternary"==h||"library_stdlib_rand_scope"==h||"library_stdlib_malloc"==h?(c.isSuperior()?c.targetBlock().setParent(null):
c.sourceBlock_.setParent(null),c.sourceBlock_.bumpNeighbours_()):(c=Blockly.cake.varTypeCheckInPrintScan(b),""==c?d+=b:(d+=c,e+=", "+b))}}Blockly.cake.definitions_.include_cake_stdio="#include <stdio.h>";return(""==e?'printf("'+d+'");':'printf("'+d+'"'+e+");")+"\n"};
Blockly.cake.library_stdio_text=function(a){var b=Blockly.cake.quote_(a.getFieldValue("TEXT"));if(!a.getParent()||"library_stdio_printf"!=a.getParent().type&&"define_declare"!=a.getParent().type&&"comment"!=a.getParent().type)b=1==b.length?"'"+b+"'":'"'+b+'"';return[b,Blockly.cake.ORDER_ATOMIC]};Blockly.cake.library_stdio_newLine=function(){return["\\n",Blockly.cake.ORDER_NONE]};
Blockly.cake.library_stdio_scanf=function(a){for(var b,c,d="",e="",f=0;f<=a.scanAddCount_;f++){b=Blockly.cake.valueToCode(a,"VAR"+f,Blockly.cake.ORDER_NONE)||"";c=a.inputList[f].connection;var g=c.targetBlock();if(g){var h=g.type;"variables_array_get"==h?(g=b.split("["),c=Blockly.cake.arrTypeCheckInScan(g[0],c),"%s"==c?(d+=c,e+=", "+b):(d+=c,e+=", &"+b)):"variables_pointer_get"==h?(c=Blockly.cake.varTypeCheckInPrintScan(b),"%c"==c&&(c="%s"),d+=c,e+=", "+b):"variables_pointer_&"==h?(c.isSuperior()?
c.targetBlock().setParent(null):c.sourceBlock_.setParent(null),c.sourceBlock_.bumpNeighbours_()):"variables_pointer_*"==h?g.inputList[0].connection.targetBlock()&&(b=Blockly.cake.valueToCode(g,"VALUE",Blockly.cake.ORDER_NONE)||"",c=Blockly.cake.varTypeCheckInPrintScan(b),""==c?d+=b:(d+=c,e+=", &*"+b)):(c=Blockly.cake.varTypeCheckInPrintScan(b),d+=c,e+=", &"+b)}}Blockly.cake.definitions_.include_cake_stdio="#include <stdio.h>";return(""==e?'scanf("'+d+'");':'scanf("'+d+'"'+e+");")+"\n"};
Blockly.cake.varTypeCheckInPrintScan=function(a){for(var b="",c=Blockly.Variables.allVariables(),d=0;d<c.length;d++)if(a==c[d][2]){a=c[d][0];"int"==a?b="%d":"unsigned int"==a?b="%u":"float"==a?b="%f":"double"==a?b="%f":"char"==a?b="%c":"dbchar"==a&&(b="%s");break}return b};
Blockly.cake.pointerTypeCheckInPrint=function(a,b){var c="",d=Blockly.Variables.allVariables();if(1==b){for(var e=0;e<d.length;e++)if(a==d[e][2]){var f=d[e][0];"dbint"==f?c="%d":"dbunsigned int"==f?c="%u":"dbfloat"==f?c="%f":"dbdouble"==f?c="%f":"dbchar"==f&&(c="%c");break}return c}for(e=0;e<d.length;e++)if(a==d[e][2])return f=d[e][0],"*"==d[e][5]?"int"==f?c="%d":"unsigned int"==f?c="%u":"float"==f?c="%f":"double"==f?c="%f":"char"==f&&(c="%c"):c="dbchar"==f?"%s":"%p",c};
Blockly.cake.arrTypeCheckInScan=function(a,b){for(var c="",d=b.targetBlock(),e=Blockly.Blocks.getWantedBlockArray("a"),f=0;f<e.length;f++){var g=Blockly.FieldDropdown.prototype.getTypefromVars(e[f][2],0),h=e[f][5][0],k=d.getInputIdxLength();if(h==k){"int"==g?c="%d":"unsigned int"==g?c="%u":"float"==g?c="%f":"double"==g?c="%f":"char"==g?c="%c":"dbchar"==g&&(c="%s");break}else if(h>k&&"char"==e[f][0]){c="%s";break}else b.isSuperior()?b.targetBlock().setParent(null):b.sourceBlock_.setParent(null),b.sourceBlock_.bumpNeighbours_()}return c};
Blockly.cake.comment=function(a){for(var b="",c="",d=0,e=0;e<=a.commentAddCount_;e++){b=Blockly.cake.valueToCode(a,"VAR"+e,Blockly.cake.ORDER_NONE)||"";var f=a.inputList[e].connection,g=f.targetBlock();g&&"library_stdio_text"!=g.type&&(f.isSuperior()?f.targetBlock().setParent(null):f.sourceBlock_.setParent(null),f.sourceBlock_.bumpNeighbours_());""!=b&&(c+=b+"\n");d+=1}return 1==d?""!=b?"//"+c:"//\n":"/*\n"+c+"*/\n"};Blockly.cake.stdlib={};Blockly.cake.library_stdlib_convert=function(a){var b=a.getFieldValue("OPERATORS");a=Blockly.cake.valueToCode(a,"VAR",Blockly.cake.ORDER_NONE)||"''";switch(b){case "INT":b="atoi("+a+")";break;case "DOUBLE":b="atof("+a+")";break;default:throw"Unknown math operator: "+b;}Blockly.cake.definitions_.include_cake_stdlib="#include <stdlib.h>";return[b,Blockly.cake.ORDER_NONE]};
Blockly.cake.library_stdlib_rand=function(a){var b=Blockly.cake.valueToCode(a,"VAR",Blockly.cake.ORDER_NONE)||"";Blockly.cake.definitions_.include_cake_stdlib="#include <stdlib.h>";Blockly.cake.definitions_.include_cake_time="#include <time.h>";b="rand()"+b;Blockly.cake.getUpperLine(a);return[b,Blockly.cake.ORDER_NONE]};Blockly.cake.getUpperLine=function(a){a=a.getScope();Blockly.cake.times_.cake_time_srand=[a,"srand(time(NULL));"]};
Blockly.cake.library_stdlib_rand_scope=function(a){var b=Blockly.cake.valueToCode(a,"A",Blockly.cake.ORDER_NONE)||"0";a=Blockly.cake.valueToCode(a,"B",Blockly.cake.ORDER_NONE)||"0";return[1==b?" % "+a+" + "+b:" % ("+a+"-"+b+"+1) + "+b,Blockly.cake.ORDER_NONE]};Blockly.cake.library_stdlib_number_forRandScope1=function(a){return[parseFloat(a.getFieldValue("NUM")),Blockly.cake.ORDER_ATOMIC]};Blockly.cake.library_stdlib_number_forRandScope100=function(a){return[parseFloat(a.getFieldValue("NUM")),Blockly.cake.ORDER_ATOMIC]};
Blockly.cake.library_stdlib_malloc=function(a){var b=Blockly.FieldDropdown.prototype.getParentType(a,"variables_pointer");a=Blockly.cake.valueToCode(a,"VAR",Blockly.cake.ORDER_NONE)||"''";Blockly.cake.definitions_.include_cake_stdlib="#include <stdlib.h>";return["("+b+" *)malloc("+a+")",Blockly.cake.ORDER_NONE]};Blockly.cake.library_stdlib_sizeof_forMalloc=function(a){return["sizeof("+(Blockly.cake.valueToCode(a,"VAR",Blockly.cake.ORDER_NONE)||"''")+")",Blockly.cake.ORDER_NONE]};
Blockly.cake.library_stdlib_arithmetic_forMalloc=function(a){var b=Blockly.cake.valueToCode(a,"A",Blockly.cake.ORDER_NONE)||"0";a=Blockly.cake.valueToCode(a,"B",Blockly.cake.ORDER_NONE)||"0";return[b+" * "+a,Blockly.cake.ORDER_NONE]};Blockly.cake.library_stdlib_number_forMalloc=function(a){return[parseFloat(a.getFieldValue("NUM")),Blockly.cake.ORDER_ATOMIC]};
Blockly.cake.library_stdlib_free=function(a){a=Blockly.cake.valueToCode(a,"VAR",Blockly.cake.ORDER_NONE)||"''";Blockly.cake.definitions_.include_cake_stdlib="#include <stdlib.h>";return"free("+a+");\n"};Blockly.cake.library_stdlib_exit=function(a){a=a.getFieldValue("OPERATORS");switch(a){case "SUCCESS":a="exit(0);\n";break;case "FAILURE":a="exit(1);\n";break;default:throw"Unknown math operator: "+a;}Blockly.cake.definitions_.include_cake_stdlib="#include <stdlib.h>";return a};Blockly.cake.string={};Blockly.cake.library_string_strlen=function(a){a=Blockly.cake.valueToCode(a,"VAR",Blockly.cake.ORDER_NONE)||'""';Blockly.cake.definitions_.include_cake_string="#include <string.h>";return["strlen("+a+")",Blockly.cake.ORDER_NONE]};
Blockly.cake.library_string_strcat=function(a){var b=Blockly.cake.valueToCode(a,"STR1",Blockly.cake.ORDER_NONE)||'""';a=Blockly.cake.valueToCode(a,"STR2",Blockly.cake.ORDER_NONE)||'""';Blockly.cake.definitions_.include_cake_string="#include <string.h>";return["strcat("+b+", "+a+")",Blockly.cake.ORDER_NONE]};
Blockly.cake.library_string_strcpy=function(a){var b=Blockly.cake.valueToCode(a,"STR1",Blockly.cake.ORDER_NONE)||'""';a=Blockly.cake.valueToCode(a,"STR2",Blockly.cake.ORDER_NONE)||'""';Blockly.cake.definitions_.include_cake_string="#include <string.h>";return["strcpy("+a+", "+b+")",Blockly.cake.ORDER_NONE]};
Blockly.cake.library_string_strcmp=function(a){var b=Blockly.cake.valueToCode(a,"STR1",Blockly.cake.ORDER_NONE)||'""';a=Blockly.cake.valueToCode(a,"STR2",Blockly.cake.ORDER_NONE)||'""';Blockly.cake.definitions_.include_cake_string="#include <string.h>";return["strcmp("+b+", "+a+")",Blockly.cake.ORDER_NONE]};Blockly.cake.variables={};Blockly.cake.variables_get=function(a){return[Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.cake.ORDER_ATOMIC]};Blockly.cake.variables_set=function(a){var b=Blockly.cake.valueToCode(a,"VALUE",Blockly.cake.ORDER_ASSIGNMENT)||"0";return Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+b+";\n"};
Blockly.cake.variables_get_bool=function(a){return[Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.cake.ORDER_ATOMIC]};Blockly.cake.variables_set_bool=function(a){var b=Blockly.cake.valueToCode(a,"VALUE",Blockly.cake.ORDER_ASSIGNMENT)||"0";return Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+b+";\n"};
Blockly.cake.variables_get_float=function(a){return[Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.cake.ORDER_ATOMIC]};Blockly.cake.variables_set_float=function(a){var b=Blockly.cake.valueToCode(a,"VALUE",Blockly.cake.ORDER_ASSIGNMENT)||"false";return Blockly.cake.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+b+";\n"};